{"ast":null,"code":"var _s = $RefreshSig$();\n// /src/hooks/useAuth.ts\nimport { useMutation } from '@tanstack/react-query';\nimport { useNavigate } from 'react-router-dom';\nimport { loginUser } from '../api/authApi';\nexport function useAuth() {\n  _s();\n  var _loginMutation$error;\n  const navigate = useNavigate();\n  const loginMutation = useMutation({\n    mutationFn: data => loginUser(data),\n    onSuccess: data => {\n      // Store the token in localStorage or preferably in a more secure way\n      localStorage.setItem('token', data.token);\n      // Redirect to dashboard or home page\n      navigate('/dashboard');\n    }\n  });\n  return {\n    login: loginMutation.mutate,\n    isLoggingIn: loginMutation.isPending,\n    loginError: ((_loginMutation$error = loginMutation.error) === null || _loginMutation$error === void 0 ? void 0 : _loginMutation$error.message) || null,\n    isError: loginMutation.isError\n  };\n}\n_s(useAuth, \"TzqGkJnmxTvYV9w5MMQqwZttXjE=\", false, function () {\n  return [useNavigate, useMutation];\n});","map":{"version":3,"names":["useMutation","useNavigate","loginUser","useAuth","_s","_loginMutation$error","navigate","loginMutation","mutationFn","data","onSuccess","localStorage","setItem","token","login","mutate","isLoggingIn","isPending","loginError","error","message","isError"],"sources":["C:/Users/Vikra/OneDrive/Desktop/AWS/Kubertnetes/ADM/intelli-assignment/src/hooks/useAuth.ts"],"sourcesContent":["// /src/hooks/useAuth.ts\r\nimport { useMutation } from '@tanstack/react-query';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { loginUser } from '../api/authApi';\r\nimport { LoginFormData } from '../types/auth';\r\n\r\nexport function useAuth() {\r\n  const navigate = useNavigate();\r\n\r\n  const loginMutation = useMutation({\r\n    mutationFn: (data: LoginFormData) => loginUser(data),\r\n    onSuccess: (data) => {\r\n      // Store the token in localStorage or preferably in a more secure way\r\n      localStorage.setItem('token', data.token);\r\n      // Redirect to dashboard or home page\r\n      navigate('/dashboard');\r\n    },\r\n  });\r\n\r\n  return {\r\n    login: loginMutation.mutate,\r\n    isLoggingIn: loginMutation.isPending,\r\n    loginError: loginMutation.error?.message || null,\r\n    isError: loginMutation.isError,\r\n  };\r\n}\r\n"],"mappings":";AAAA;AACA,SAASA,WAAW,QAAQ,uBAAuB;AACnD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,SAAS,QAAQ,gBAAgB;AAG1C,OAAO,SAASC,OAAOA,CAAA,EAAG;EAAAC,EAAA;EAAA,IAAAC,oBAAA;EACxB,MAAMC,QAAQ,GAAGL,WAAW,CAAC,CAAC;EAE9B,MAAMM,aAAa,GAAGP,WAAW,CAAC;IAChCQ,UAAU,EAAGC,IAAmB,IAAKP,SAAS,CAACO,IAAI,CAAC;IACpDC,SAAS,EAAGD,IAAI,IAAK;MACnB;MACAE,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,IAAI,CAACI,KAAK,CAAC;MACzC;MACAP,QAAQ,CAAC,YAAY,CAAC;IACxB;EACF,CAAC,CAAC;EAEF,OAAO;IACLQ,KAAK,EAAEP,aAAa,CAACQ,MAAM;IAC3BC,WAAW,EAAET,aAAa,CAACU,SAAS;IACpCC,UAAU,EAAE,EAAAb,oBAAA,GAAAE,aAAa,CAACY,KAAK,cAAAd,oBAAA,uBAAnBA,oBAAA,CAAqBe,OAAO,KAAI,IAAI;IAChDC,OAAO,EAAEd,aAAa,CAACc;EACzB,CAAC;AACH;AAACjB,EAAA,CAnBeD,OAAO;EAAA,QACJF,WAAW,EAEND,WAAW;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}